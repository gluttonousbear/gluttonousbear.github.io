---
layout: post
title: "test"
date: 2017-04-01
thumbnail: "/images/2017-03-30-thin-and-crunchy-tortilla-pizza4.jpg"
tags:
- test
category: Test
origin: Test
---



<!-- BEGINNING OF INDIVIDUAL PAGE CONTENT -->

			Let's test some of javascprit libraries for infographics :) Start with [Highcharts.js](http://www.highcharts.com/).
<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.8.2/jquery.min.js">
</script>
<script type="text/javascript" src="http://code.highcharts.com/highcharts.js">
</script>
<script type="text/javascript" src="http://code.highcharts.com/modules/exporting.js">
</script>

<!---<div id="container" style="min-width: 310px; height: 400px; margin: 0 auto">-->
<div id="container" style="width: 600px; height: 400px; margin: 0 auto">
</div>
<script type="text/javascript">

//$(function () {
        $('#container').highcharts({
            title: {
                text: 'Monthly Average Temperature',
                x: -20 //center
            },
            subtitle: {
                text: 'Source: WorldClimate.com',
                x: -20
            },
            xAxis: {
                categories: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun',
                    'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec']
            },
            yAxis: {
                title: {
                    text: 'Temperature (°C)'
                },
                plotLines: [{
                    value: 0,
                    width: 1,
                    color: '#808080'
                }]
            },
            tooltip: {
                valueSuffix: '°C'
            },
            legend: {
                layout: 'vertical',
                align: 'right',
                verticalAlign: 'middle',
                borderWidth: 0
            },
            series: [{
                name: 'Tokyo',
                data: [7.0, 6.9, 9.5, 14.5, 18.2, 21.5, 25.2, 26.5, 23.3, 18.3, 13.9, 9.6]
            }, {
                name: 'New York',
                data: [-0.2, 0.8, 5.7, 11.3, 17.0, 22.0, 24.8, 24.1, 20.1, 14.1, 8.6, 2.5]
            }, {
                name: 'Berlin',
                data: [-0.9, 0.6, 3.5, 8.4, 13.5, 17.0, 18.6, 17.9, 14.3, 9.0, 3.9, 1.0]
            }, {
                name: 'London',
                data: [3.9, 4.2, 5.7, 8.5, 11.9, 15.2, 17.0, 16.6, 14.2, 10.3, 6.6, 4.8]
            }]
        });
//    });

</script>
Finally, get it working now!










<script type="text/javascript" src="http://d3js.org/d3.v3.min.js">
</script>
<script type="text/javascript" src="http://dimplejs.org/dist/dimple.v2.1.0.min.js">
</script>
<div id="roc">
<h4>ROC Curve Comparison</h4></div>
<div id="bar">
<h4>Value False Positive Rate</h4></div>
<script type="text/javascript">
    var svg = dimple.newSvg("#roc", 550, 500);
    d3.tsv("data1.tsv", function (data) {

      // Filter for a single SKU and Channel
      //data = dimple.filterData(data, "SKU", "Theta 18 Pack Standard");
      //data = dimple.filterData(data, "Channel", "Hypermarkets");

      // Create and Position a Chart
      var myChart = new dimple.chart(svg, data);
      myChart.setBounds(60, 30, 400, 400);
	  myChart.addMeasureAxis("x", "False Positive Rate");
	   // Order the x axis by date
      //x.addOrderRule("xline");
      myChart.addMeasureAxis("y", "True Positive Rate");
	  
      var lines =myChart.addSeries(["False Positive Rate","Model"], dimple.plot.line);
      lines.lineWeight = 3;
      lines.lineMarkers = true;
	  lines.getTooltipText = function (e) {
                return [
                    "TP Rate: " + e.yValue,
                    "FP Rate: "	+ e.xValue			
                ];
            };
	  
	  myLegend = myChart.addLegend(60, 10, 400, 20, "left");
	  

      // Draw the chart
      myChart.draw();
	  
	  var bHeight = 400;
	  var sampleSVG = d3.select("#bar")
        .append("svg")
        .attr("width", 400)
        .attr("height", bHeight);  

      var rCir = 10;	  
	  d3.selectAll("circle").on("mouseover", null);
      d3.selectAll("circle").on("mouseover", function (e) {
          d3.select(this).style("opacity", 1);
          dimple._showPointTooltip(e, this, myChart, lines);
		  rCir = e.yValue*80;
		 
		 
		 var res_data_1 = dimple.filterData(dimple.filterData(data, "Model", "Model 1"),"False Positive Rate",e.xValue.toString());
         var res_data_2 = dimple.filterData(dimple.filterData(data, "Model", "Model 2"),"False Positive Rate",e.xValue.toString());		 // Row 1 only
		 //alert([e.xValue,e.yValue,e.aggField[0],e.aggField[1],e.aggField.slice(-1)[0],JSON.stringify(res_data_1[0].Cost)]);
		 
		 sampleSVG.append("rect")
        .style("fill", "royalblue")
		.style("opacity", 0.5)
        .attr("x", 50)
        .attr("y", 0)
        .attr("width", 50)
		.attr("height",res_data_1[0].Cost*10)
		
		sampleSVG.append('text').text(Math.round(res_data_1[0].Cost*10))
                .attr('x', 65)
                .attr('y', 15)
                .attr('fill', 'black')
		
		sampleSVG.append("rect")
        .style("fill", "red")
		.style("opacity", 0.5)
        .attr("x", 110)
        .attr("y", 0)
        .attr("width", 50)
		.attr("height",res_data_2[0].Cost*10)

		sampleSVG.append('text').text(Math.round(res_data_2[0].Cost*10))
                .attr('x', 125)
                .attr('y', 15)
                .attr('fill', 'black')
		  
      });
	  
	  d3.selectAll("circle").on("mouseleave", function (e) {
		 sampleSVG.append("rect")
        .style("fill", "white")
        .attr("x", 0)
        .attr("y", 0)
        .attr("width", 400)
		.attr("height",400)
		
		//sampleSVG.append("rect")
        //.style("fill", "white")
        //.attr("x", 110)
        //.attr("y", 0)
        //.attr("width", 50)
		//.attr("height",200)
		  
      });
	  
	  

    });
  </script>
  
  
  
  
  
  Let us see if d3.js works in Markdown, this is a reproduction of the d3.js example 
[Voronoi-based point picker](http://bl.ocks.org/njvack/1405439)


<script type="text/javascript" src="http://mbostock.github.com/d3/d3.js">
</script>
<script type="text/javascript" src="http://mbostock.github.com/d3/d3.geom.js">
</script>

<div id="chart" style="min-width: 310px; height: 400px; margin: 0 auto">
</div>
<script type="text/javascript">

var w = 600,
    h = 400;

var vertices = d3.range(100).map(function(d) {
  return [Math.random() * w, Math.random() * h];
});

var svg = d3.select("#chart")
  .append("svg:svg")
    .attr("width", w)
    .attr("height", h);
var paths, points, clips;
clips = svg.append("svg:g").attr("id", "point-clips");
points = svg.append("svg:g").attr("id", "points");
paths = svg.append("svg:g").attr("id", "point-paths");

clips.selectAll("clipPath")
    .data(vertices)
  .enter().append("svg:clipPath")
    .attr("id", function(d, i) { return "clip-"+i;})
  .append("svg:circle")
    .attr('cx', function(d) { return d[0]; })
    .attr('cy', function(d) { return d[1]; })
    .attr('r', 20);

paths.selectAll("path")
    .data(d3.geom.voronoi(vertices))
  .enter().append("svg:path")
    .attr("d", function(d) { return "M" + d.join(",") + "Z"; })
    .attr("id", function(d,i) { 
      return "path-"+i; })
    .attr("clip-path", function(d,i) { return "url(#clip-"+i+")"; })
    .style("fill", d3.rgb(230, 230, 230))
    .style('fill-opacity', 0.4)
    .style("stroke", d3.rgb(200,200,200));
  
paths.selectAll("path")
  .on("mouseover", function(d, i) {
    d3.select(this)
      .style('fill', d3.rgb(31, 120, 180));
    svg.select('circle#point-'+i)
      .style('fill', d3.rgb(31, 120, 180))
  })
  .on("mouseout", function(d, i) {
    d3.select(this)
      .style("fill", d3.rgb(230, 230, 230));
    svg.select('circle#point-'+i)
      .style('fill', 'black')
  });

points.selectAll("circle")
    .data(vertices)
  .enter().append("svg:circle")
    .attr("id", function(d, i) { 
      return "point-"+i; })
    .attr("transform", function(d) { return "translate(" + d + ")"; })
    .attr("r", 2)
    .attr('stroke', 'none');

</script>



It works like a charm!


